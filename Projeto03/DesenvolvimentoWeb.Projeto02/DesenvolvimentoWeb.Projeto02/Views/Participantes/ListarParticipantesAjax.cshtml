
@{
    ViewData["Title"] = "Listar Participantes";
}

<h2>Listar Participantes por Evento - Ajax</h2>

<form asp-action="ListarParticipantesAjax"
      asp-controller="Eventos"
      method="get">
    <div class="row">
        <label class="control-label">ID Evento</label>
        <select id="idEvento" name="idEvento"
                class="form-control"
                asp-items="(SelectList)ViewBag.ListaDeEventos">
            <option value="0">SELECIONE</option>
        </select>
    </div>
</form>

<div class="row" id="resultado"></div>

@section Scripts{ 
    <script>
        $(document).ready(function () {
            $("#idEvento").change(function () { 
                var selecao = $("#idEvento").val();
                if (selecao == "0") {
                    var erro = "<div class='alert alert-danger'>" +
                        "Nenhum evento selecionado</div>";
                    $("#resultado").html(erro);
                }
                else {
                    $("#resultado").load("/Participantes/ListarParticipantesAjax?idEvento="
                        + selecao);
                }
            });
        });

    </script>    
}




